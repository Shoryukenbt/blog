---
title: CSS3硬件加速
date: 2019-05-14 15:37:43
tags: css
---

浏览器在渲染的过程中有个`composite`的概念，简单的说就是浏览器渲染的图层一般包含两大类：`普通图层`和`复合图层`，普通文档流内可以理解为一个复合图层， `fixed`和`absolute`虽然脱离普通文档流，但都是在同一个复合图层内

通过`硬件加速`的方式可以声明一个新的复合图层, 新的复合图层会脱离原来的文档流，这样新图层的变化也就不会影响的源图层的回流于重绘

### 如何将元素变成一个图层，实现硬件加速
* 3D或者透视变换( `transform`, `perspective`)CSS属性
* 使用加速视屏解码的元素
* 拥有3D(WebGL)上下文或者加速的2D上下文的元素
* 混合插件(如Flash)
* 对自己的opacity做css动画或者使用一个动画变换的元素
* 拥有加速CSS过滤器的元素
* 元素有一个包含复合层的后代节点
* 元素有一个Z-index较低并且包含一个复合层的兄弟元素
  > webkit CSS3中，如果这个元素添加了硬件加速，并且index层级比较低， 那么在这个元素的后面其它元素（层级比这个元素高的，或者相同的，并且releative或absolute属性相同的）， 会默认变为复合层渲染，如果处理不当会极大的影响性能

> 硬件加速是请使用z-index